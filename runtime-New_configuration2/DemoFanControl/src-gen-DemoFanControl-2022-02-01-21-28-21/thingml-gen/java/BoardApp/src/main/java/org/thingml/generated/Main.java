/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated;

import no.sintef.jasm.*;
import no.sintef.jasm.ext.*;

import org.thingml.generated.api.*;
import org.thingml.generated.messages.*;

import java.util.*;
import org.thingml.generated.network.*;
public class Main {
//Things
public static LED LED_lEDObj;
public static FAN FAN_fANObj;
public static Board Board_boardObj;
public static Button Button_buttonObj;
public static void main(String args[]) {
//Things
LED_lEDObj = (LED) new LED();
LED_lEDObj.buildBehavior(null, null);
LED_lEDObj.init();
FAN_fANObj = (FAN) new FAN();
FAN_fANObj.buildBehavior(null, null);
FAN_fANObj.init();
Board_boardObj = (Board) new Board();
Board_boardObj.buildBehavior(null, null);
Board_boardObj.init();
Button_buttonObj = (Button) new Button();
Button_buttonObj.buildBehavior(null, null);
Button_buttonObj.init();
//Connecting internal ports...
//Connectors
Button_buttonObj.getToBoard_port().addListener(Board_boardObj.getFromButton_port());
Board_boardObj.getToFAN_port().addListener(FAN_fANObj.getInFAN_port());
Board_boardObj.getToLED_port().addListener(LED_lEDObj.getInLED_port());
LED_lEDObj.initLED_PIN11_var((short) (11));
FAN_fANObj.initFAN_PIN12_var((short) (12));
Button_buttonObj.initButton_PIN0_var((short) (0));
//Network components for external connectors
/*$NETWORK$*/
//External Connectors
/*$EXT CONNECTORS$*/
/*$START$*/
LED_lEDObj.start();
FAN_fANObj.start();
Button_buttonObj.start();
Board_boardObj.start();
//Hook to stop instances following client/server dependencies (clients firsts)
Runtime.getRuntime().addShutdownHook(new Thread() {
public void run() {
Board_boardObj.stop();
Button_buttonObj.stop();
FAN_fANObj.stop();
LED_lEDObj.stop();
/*$STOP$*/
}
});

}
}
